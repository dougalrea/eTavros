(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{147:function(e,t,r){},174:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),c=r(36),o=r.n(c),s=(r(147),r(45)),i=r(20),l=r(10),d=r.n(l),j=r(16),b=r(4),u=r(231),h=r(194),x=r(232),g=r(189),p=r(190),O=r(192),m=r(233),f=r(197),v=r(27),y=r.n(v),w="/api";function S(e){return y.a.get("".concat(w,"/markets/").concat(e,"/"))}function k(){return y.a.get("".concat(w,"/markets/"))}function C(e){return y.a.get("".concat(w,"/markets/").concat(e,"/history/day/"))}function _(e,t){return y.a.get("".concat(w,"/markets/").concat(e,"/history/"),{headers:{Interval:"".concat(t)}})}function F(e){return y.a.post("".concat(w,"/auth/register/"),e)}function z(e){return y.a.post("".concat(w,"/auth/login/"),e)}function E(e){return y.a.get("".concat(w,"/auth/profile/"),{headers:{Authorization:"Bearer ".concat(e)}})}function D(e,t){return y.a.put("".concat(w,"/auth/profile/"),e,{headers:{Authorization:"Bearer ".concat(t)}})}function R(e,t){return y.a.post("".concat(w,"/tradeposts/"),e,{headers:{Authorization:"Bearer ".concat(t)}})}function W(e,t){return y.a.post("".concat(w,"/comments/"),e,{headers:{Authorization:"Bearer ".concat(t)}})}function P(e,t){return y.a.post("".concat(w,"/markets/").concat(e,"/favourite/"),e,{headers:{Authorization:"Bearer ".concat(t)}})}function B(e,t){return y.a.put("".concat(w,"/markets/").concat(e,"/favourite/"),e,{headers:{Authorization:"Bearer ".concat(t)}})}function A(){return window.localStorage.getItem("token")}function I(){var e=A();if(!e)return!1;var t=e.split(".");return!(t.length<3)&&JSON.parse(window.atob(t[1]))}var U=r(191),L=r(226),T=r(227),H=r(2);var q=function(e){var t=e.tradingPair,r=e.ticker,a=n.a.useState(null),c=Object(b.a)(a,2),o=c[0],i=c[1],l=n.a.useRef(),u=function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")};return n.a.useEffect((function(){return t&&(l.current=new WebSocket("wss://stream.binance.com:9443/ws/".concat(r.toString().toLowerCase(),"busd@ticker")),l.current.onmessage=function(){var e=Object(j.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=JSON.parse(null===t||void 0===t?void 0:t.data),i(r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),function(){l.current&&(console.log("cleaning up the index data streams"),l.current.close())}}),[t]),Object(H.jsx)(g.a,{rounded:"lg",bg:"gray.700",color:"gray.100",p:4,children:t?Object(H.jsxs)(p.a,{templateColumns:"repeat(20, 1fr)",gap:2,alignItems:"center",fontSize:"md",children:[Object(H.jsx)(p.b,{colSpan:1,children:Object(H.jsx)(U.a,{size:"sm",name:t.name,src:t.symbol,alt:"coin symbol"})}),Object(H.jsx)(p.b,{colSpan:2,children:Object(H.jsx)(O.a,{fontSize:"lg",fontWeight:"semibold",children:t.name.toUpperCase()})}),Object(H.jsx)(p.b,{colSpan:2,children:o?Object(H.jsxs)(O.a,{children:["$",u(parseFloat(o.c).toFixed(2))]}):Object(H.jsx)(L.a,{startColor:"green.600",endColor:"orange.600",height:"20px"})}),Object(H.jsx)(p.b,{colSpan:2,children:o?Object(H.jsxs)(O.a,{color:o.P>0?"#1cf200":"#ff1919",children:[parseFloat(o.P).toFixed(2)," %"]}):Object(H.jsx)(L.a,{startColor:"green.600",endColor:"orange.600",height:"20px"})}),Object(H.jsx)(p.b,{colSpan:2,children:o?Object(H.jsxs)(O.a,{children:["$",u(parseFloat(o.h).toFixed(2))]}):Object(H.jsx)(L.a,{startColor:"green.600",endColor:"orange.600",height:"20px"})}),Object(H.jsx)(p.b,{colSpan:2,children:o?Object(H.jsxs)(O.a,{children:["$",u(parseFloat(o.l).toFixed(2))]}):Object(H.jsx)(L.a,{startColor:"green.600",endColor:"orange.600",height:"20px"})}),Object(H.jsx)(p.b,{colSpan:3,children:o?Object(H.jsxs)(O.a,{children:["$",u(parseFloat(o.c*t.total_suppy).toFixed(0))]}):Object(H.jsx)(L.a,{startColor:"green.600",endColor:"orange.600",height:"20px"})}),Object(H.jsx)(p.b,{colSpan:3,children:o?Object(H.jsx)(O.a,{children:u(parseFloat(o.v).toFixed(0))+" "+r}):Object(H.jsx)(L.a,{startColor:"green.600",endColor:"red.600",height:"20px"})}),Object(H.jsx)(p.b,{colSpan:3,children:Object(H.jsx)(s.b,{to:"/markets/".concat(t.name,"/"),children:Object(H.jsxs)(T.a,{bg:"gray.200",color:"gray.800",w:"full",children:["Trade ",t.ticker,"/vUSD"]})})})]}):"loading markets"})};var N=function(){var e=n.a.useState(void 0),t=Object(b.a)(e,2),r=t[0],a=t[1],c=n.a.useState(void 0),o=Object(b.a)(c,2),s=o[0],i=o[1];return n.a.useEffect((function(){var e=function(){var e=Object(j.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k();case 3:t=e.sent,r=t.data,a(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(j.a)(d.a.mark((function e(){var t,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=A(),e.next=4,E(t);case 4:r=e.sent,a=r.data,i(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e(),t()}),[]),Object(H.jsx)(u.a,{children:Object(H.jsx)(h.a,{minW:"full",minH:"container.lg",pr:14,pl:14,overflow:"scroll",bg:"gray.400",borderColor:"black",borderWidth:"1px",children:Object(H.jsxs)(x.e,{variant:"unstyled",color:"gray.100",mt:4,children:[Object(H.jsxs)(x.b,{children:[Object(H.jsx)(x.a,{ml:4,minW:"20",bg:"gray.700",rounded:"md",fontSize:"md",fontWeight:"semibold",_selected:{color:"gray.100",bg:"gray.800",boxShadow:"2xl"},children:"All"}),Object(H.jsx)(x.a,{ml:4,bg:"gray.700",rounded:"md",fontSize:"md",fontWeight:"semibold",_selected:{color:"gray.100",bg:"gray.800",boxShadow:"2xl"},children:"Favourites"})]}),Object(H.jsxs)(x.d,{children:[Object(H.jsxs)(x.c,{children:[Object(H.jsx)(g.a,{pb:4,pl:4,pr:4,children:Object(H.jsxs)(p.a,{templateColumns:"repeat(20, 1fr)",gap:2,alignItems:"center",color:"gray.800",children:[Object(H.jsx)(p.b,{colStart:4,colEnd:6,children:Object(H.jsx)(O.a,{fontSize:"md",children:"Current Price"})}),Object(H.jsx)(p.b,{colStart:6,colEnd:8,children:Object(H.jsx)(O.a,{fontSize:"md",children:"24hr Change"})}),Object(H.jsx)(p.b,{colStart:8,colEnd:10,children:Object(H.jsx)(O.a,{fontSize:"md",children:"24hr High"})}),Object(H.jsx)(p.b,{colStart:10,colEnd:12,children:Object(H.jsx)(O.a,{fontSize:"md",children:"24hr Low"})}),Object(H.jsx)(p.b,{colStart:12,colEnd:15,children:Object(H.jsx)(O.a,{fontSize:"md",children:"Market Capitalisation"})}),Object(H.jsx)(p.b,{colStart:15,colEnd:17,children:Object(H.jsx)(O.a,{fontSize:"md",children:"24hr Volume"})})]})}),r?Object(H.jsx)(m.a,{spacing:1,children:r.map((function(e){return Object(H.jsx)(q,{tradingPair:e,ticker:e.ticker},e.id)})).sort((function(e,t){return e.key-t.key}))}):"Loading markets"]}),Object(H.jsxs)(x.c,{children:[Object(H.jsx)(g.a,{pb:4,pl:4,pr:4,children:Object(H.jsxs)(p.a,{templateColumns:"repeat(20, 1fr)",gap:2,alignItems:"center",color:"gray.800",children:[Object(H.jsx)(p.b,{colStart:4,colEnd:6,children:Object(H.jsx)(O.a,{fontSize:"md",children:"Current Price"})}),Object(H.jsx)(p.b,{colStart:6,colEnd:8,children:Object(H.jsx)(O.a,{fontSize:"md",children:"24hr Change"})}),Object(H.jsx)(p.b,{colStart:8,colEnd:10,children:Object(H.jsx)(O.a,{fontSize:"md",children:"24hr High"})}),Object(H.jsx)(p.b,{colStart:10,colEnd:12,children:Object(H.jsx)(O.a,{fontSize:"md",children:"24hr Low"})}),Object(H.jsx)(p.b,{colStart:12,colEnd:15,children:Object(H.jsx)(O.a,{fontSize:"md",children:"Market Capitalisation"})}),Object(H.jsx)(p.b,{colStart:15,colEnd:17,children:Object(H.jsx)(O.a,{fontSize:"md",children:"24hr Volume"})})]})}),r&&s?Object(H.jsx)(m.a,{spacing:1,children:r.filter((function(e){return e.favourited_by.includes(s.id)})).map((function(e){return Object(H.jsx)(q,{tradingPair:e,ticker:e.ticker},e.id)})).sort((function(e,t){return e.key-t.key}))}):Object(H.jsx)(f.a,{color:"red.500",fontSize:"md",fontWeight:"medium",children:"You must be logged in to view favourites!"})]})]})]})})})},$=r(8),V=r(32);function J(e){var t=n.a.useState(e),r=Object(b.a)(t,2),a=r[0],c=r[1],o=n.a.useState(e),s=Object(b.a)(o,2),i=s[0],l=s[1];return{formdata:a,errors:i,handleChange:function(e){var t=e.target.value,r=Object(V.a)(Object(V.a)({},a),{},Object($.a)({},e.target.name,t));c(r),l(Object(V.a)(Object(V.a)({},i),{},Object($.a)({},e.target.name,"")))},setErrors:l,setFormdata:c}}var Y=r(224),M=r(205),G=r(199),Z=r(206),K=r(228),Q=r(64),X=r(131),ee=r(234),te=r(62),re=r(200),ae=r(202),ne=r(213),ce=r(210),oe=r(211),se=r(212),ie=r(95),le=r(201),de=r(225),je=r(203),be=r(204),ue=r(83);var he=function(e){var t=e.orderType,r=e.tradingPair,a=e.setTradingPairDataFound,c=e.userData,o=e.setUserData,s=n.a.useState(!1),l=Object(b.a)(s,2),u=l[0],h=l[1],x=n.a.useState(null),g=Object(b.a)(x,2),p=g[0],f=g[1],v=n.a.useState(!1),y=Object(b.a)(v,2),w=y[0],S=y[1],k={buy:"",amount:"",total:"",tradingPairName:""},_=n.a.useState(k),F=Object(b.a)(_,2),z=F[0],W=F[1],P=n.a.useState(k),B=Object(b.a)(P,2),I=B[0],U=B[1],L=Object(i.f)().name,q=A(),N=function(){var e=Object(j.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(L);case 3:t=e.sent,r=t.data,f(r.lastPrice),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error retrieving latest price data: ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(j.a)(d.a.mark((function e(){var t,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=A(),e.next=4,E(t);case 4:r=e.sent,a=r.data,o(a),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("failed getting user data"),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),M=function(e){if("amount"===e.target.name){var t=e.target.value,r=t*p,a=Object(V.a)(Object(V.a)({},z),{},{amount:t,total:r});W(a),U(Object(V.a)(Object(V.a)({},I),{},Object($.a)({},e.target.name,"")))}if("total"===e.target.name){var n=e.target.value,c=n/p,o=Object(V.a)(Object(V.a)({},z),{},{amount:c,total:n});W(o),U(Object(V.a)(Object(V.a)({},I),{},Object($.a)({},e.target.name,"")))}};n.a.useEffect((function(){N(),J()}),[q]);var Z=function(e){e.preventDefault(),S(!1)},K=Object(Y.a)(),X=function(){var e=Object(j.a)(d.a.mark((function e(n){var o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,z.amount=z.total/p,z.tradingPairName=r.name,z.buy="Buy"===t,o=A(),e.next=8,N();case 8:return e.next=10,D(z,o);case 10:return e.next=12,R({bought_or_sold:z.buy,amount:z.amount,total:z.total,trading_pair:r.id},o);case 12:K({title:"Transaction successful!",description:"Your wallet balances have been updated",status:"success",duration:4200,isClosable:!0}),J(),a(!1),S(!1),W(k),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),q?"Buy"===t&&parseFloat(null===c||void 0===c?void 0:c.cash_balance)<parseFloat(null===z||void 0===z?void 0:z.total)||"Sell"===t&&parseFloat(c["".concat(null===r||void 0===r?void 0:r.name,"_balance")])<parseFloat(null===z||void 0===z?void 0:z.amount)||(null===z||void 0===z?void 0:z.total)<0||(null===z||void 0===z?void 0:z.amount)<0?S("Insufficient balance!"):(console.log("unsecpected error: ",e.t0),S("Something unexpected happened, sorry about that!")):S("You must be logged in to make trades!");case 22:setTimeout((function(){S(!1)}),2800),h(!u);case 24:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(H.jsx)("form",{action:"submit",onSubmit:X,children:Object(H.jsxs)(m.a,{spacing:2,children:[Object(H.jsxs)(te.a,{isRequired:!0,children:[Object(H.jsx)(te.b,{textAlign:"center",color:"gray.200",children:c&&r&&q?Object(H.jsxs)(G.a,{pb:3,children:[Object(H.jsx)(Q.a,{as:ue.a,color:"gray.200",mr:4}),"Buy"===t?"$".concat(function(e){if(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}}(c.cash_balance)):c["".concat(r.name,"_balance")]+" "+r.ticker]}):Object(H.jsx)(G.a,{pb:3,children:q?"loading":"Log in to view ".concat("Buy"===t?"vUSD":null===r||void 0===r?void 0:r.ticker," balance")})}),Object(H.jsxs)(re.a,{color:"gray.200",bg:"gray.500",borderRadius:"md",borderColor:"gray.500",children:[Object(H.jsx)(le.a,{children:"Amount",bg:"gray.500"}),Object(H.jsx)(ae.b,{children:null===r||void 0===r?void 0:r.ticker}),Object(H.jsx)(de.a,{bg:"gray.500",borderColor:"gray.500",min:1e-6,value:(null===z||void 0===z?void 0:z.amount)?parseFloat(z.amount):"",precision:8,keepWithinRange:!0,children:Object(H.jsx)(de.b,{borderColor:"gray.500",name:"amount",textAlign:"right",color:"gray.700",type:"number","aria-label":"Amount",onFocus:Z,onChange:M})})]}),Object(H.jsx)(je.a,{children:w.name})]}),Object(H.jsxs)(te.a,{isRequired:!0,children:[Object(H.jsxs)(re.a,{color:"gray.200",bg:"gray.500",borderRadius:"md",children:[Object(H.jsx)(le.a,{children:"Total",pr:10,bg:"gray.500",borderColor:"gray.500"}),Object(H.jsx)(ae.b,{children:"vUSD",pr:2}),Object(H.jsx)(de.a,{min:1e-6,pr:12,value:(null===z||void 0===z?void 0:z.total)?parseFloat(null===z||void 0===z?void 0:z.total):"",precision:2,keepWithinRange:!0,children:Object(H.jsx)(de.b,{borderColor:"gray.500",name:"total",textAlign:"right",bg:"gray.500",color:"gray.700",type:"number",onFocus:Z,onChange:M,"aria-label":"Total"})})]}),Object(H.jsx)(je.a,{children:w.name})]}),Object(H.jsx)(be.a,{}),Object(H.jsx)(O.a,{fontSize:"sm",textAlign:"center",color:w?"red.500":"gray.100",children:w||"Based on "+(null===r||void 0===r?void 0:r.ticker)+" = "+parseFloat(p).toPrecision(7)+" vUSD"}),Object(H.jsx)(O.a,{fontSize:"xs",textAlign:"center",color:"gray.100",children:"(Exchange rate at point of sale may vary)"}),Object(H.jsx)(be.a,{}),Object(H.jsxs)(T.a,{type:"submit",variant:"solid",fontSize:"lg",bg:"Buy"===t?"#0dd410":"#f02b42",name:t,color:"gray.100",boxShadow:"sm",_hover:"Buy"===t?{bg:"#1cf200",color:"gray.800"}:{bg:"#ff1919",color:"gray.800"},children:[t," ",null===r||void 0===r?void 0:r.ticker]})]})})},xe=r(96);var ge=function(e){var t=e.interval,r=e.tradingPair,a=e.setLastDayData,c=n.a.useState(void 0),o=Object(b.a)(c,2),s=o[0],l=o[1],u=n.a.useState(!1),h=Object(b.a)(u,2),x=h[0],p=h[1],O=n.a.useRef(),m=n.a.useRef(),v=void 0,y=0,w=Object(i.f)().name,S=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v=Object(xe.b)(O.current,{width:window.innerWidth/2-16,height:window.innerHeight/14*7-56,layout:{backgroundColor:"#2D3748",textColor:"#EDF2F7"},grid:{vertLines:{color:"rgba(197, 203, 206, 0.5)"},horzLines:{color:"rgba(197, 203, 206, 0.5)"}},crosshair:{mode:xe.a.Normal},rightPriceScale:{borderColor:"rgba(197, 203, 206, 0.8)"},timeScale:{borderColor:"rgba(197, 203, 206, 0.8)"}}),l(v.addCandlestickSeries({upColor:"#0dd410",downColor:"#de283d",borderDownColor:"#de283d",borderUpColor:"#0dd410",wickDownColor:"#de283d",wickUpColor:"#0dd410"}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(j.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(w);case 3:t=e.sent,r=t.data,a(r),y++,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Error retrieving 24 hr data: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(j.a)(d.a.mark((function e(){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(w,t);case 3:r=e.sent,a=r.data,s.setData(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error retrieving candleSeries data from binance API: ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return n.a.useEffect((function(){return x||(S(),p(!0)),s&&r&&(F(),k(),r&&m.current&&(console.log("Closing the Web Socket... Bye!"),m.current.close()),m.current=new WebSocket("wss://stream.binance.com:9443/ws/".concat(r.ticker.toString().toLowerCase(),"busd@kline_").concat(t)),m.current.onmessage=function(){var e=Object(j.a)(d.a.mark((function e(t){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=JSON.parse(null===t||void 0===t?void 0:t.data),a=r.k,s.ed.dd.H_[s.ed.dd.H_.length-1]&&a.t/1e3>=s.ed.dd.H_[s.ed.dd.H_.length-1].P.Cs&&(s.update({time:a.t/1e3,open:a.o,high:a.h,low:a.l,close:a.c}),y%2===0?k():y++);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),function(){m.current&&(console.log("Closing the Web Socket... Bye!"),m.current.close())}}),[t,s,r]),Object(H.jsx)(f.a,{children:O?Object(H.jsx)(G.a,{children:Object(H.jsx)(g.a,{ref:O})}):Object(H.jsx)("p",{children:"loading chart"})})};var pe=function(){var e,t,r=n.a.useState(void 0),a=Object(b.a)(r,2),c=a[0],o=a[1],s=n.a.useState(void 0),l=Object(b.a)(s,2),x=l[0],v=l[1],y=n.a.useState("2h"),w=Object(b.a)(y,2),k=w[0],C=w[1],_=n.a.useState(void 0),F=Object(b.a)(_,2),z=F[0],D=F[1],R=n.a.useState(!1),L=Object(b.a)(R,2),q=L[0],N=L[1],$=n.a.useRef(),V=Object(i.f)().name,le=Object(Y.a)(),de=J({text:""}),je=de.formdata,be=de.handleChange,ue=de.setFormdata,xe=A(),pe=function(){var e=Object(j.a)(d.a.mark((function e(){var t,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=A(),e.next=4,E(t);case 4:r=e.sent,a=r.data,D(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=A(),!c.favourited_by.some((function(e){return e.id===z.id}))){e.next=8;break}return e.next=5,B(V,t);case 5:le({title:"Unfavourited!",description:"Nevermind, plenty more blocks in the chain",status:"warning",duration:4200,isClosable:!0}),e.next=11;break;case 8:return e.next=10,P(V,t);case 10:le({title:"Favourited!",description:"Access this coin faster from your Favourites tab",status:"success",duration:4200,isClosable:!0});case 11:N(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("error favouriting coin: ",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(j.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r=A(),je.trading_pair=c.id,e.next=6,W(je,r);case 6:ue({text:"",bull_or_bear:"",trading_pair:c.id}),N(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),fe=function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},ve=function(){var e=Object(j.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S(V);case 3:t=e.sent,r=t.data,o(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error retrieving trading pair data from django: ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return n.a.useEffect((function(){q&&c&&function(){var e;null===(e=$.current)||void 0===e||e.scrollIntoView({behaviour:"smooth"})}()}),[q,c]),n.a.useEffect((function(){pe(),q||(ve(),N(!0))}),[q,xe]),Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(u.a,{children:Object(H.jsx)(h.a,{maxW:"100%",maxH:"100%",p:0,children:Object(H.jsxs)(p.a,{padding:"10px",bg:"gray.400",w:"100%",maxH:"92vh",templateRows:"repeat(14, 1fr)",templateColumns:"repeat(4, 1fr)",gap:3,children:[Object(H.jsx)(p.b,{rowStart:1,rowEnd:3,colStart:1,colEnd:2,borderRadius:"lg",bg:"gray.400",boxShadow:"dark-lg",rounded:"lg",overflow:"scroll",children:Object(H.jsx)(g.a,{children:c?Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(f.a,{fontSize:"xl",color:"gray.100",bg:"gray.700",textAlign:"center",fontWeight:"medium",mb:2,children:["About ",c.name]}),Object(H.jsx)(O.a,{fontSize:"sm",color:"gray.800",children:c.description})]}):"data loading"})}),Object(H.jsx)(p.b,{rowSpan:1,colSpan:2,color:"gray.800",children:Object(H.jsxs)(M.a,{borderRadius:"lg",children:[c?Object(H.jsxs)(G.a,{children:[Object(H.jsx)(U.a,{size:"md",name:c.name,src:c.symbol,alt:"coin symbol"}),Object(H.jsx)(f.a,{fontSize:"xl",ml:3,fontWeight:"medium",children:c.name.toUpperCase()+"  ("+c.ticker+")"})]}):"data loading",Object(H.jsx)(Z.a,{}),Object(H.jsx)(G.a,{children:Object(H.jsxs)(O.a,{fontSize:"lg",children:["24h Trading Volume: ",x&&c?fe(parseFloat(null===x||void 0===x?void 0:x.volume).toFixed(2))+" "+c.ticker:"Loading..."]})}),Object(H.jsx)(Z.a,{}),Object(H.jsx)(G.a,{children:Object(H.jsxs)(K.a,{placement:"right",flip:!0,children:[Object(H.jsx)(K.b,{as:T.a,rightIcon:Object(H.jsx)(ce.a,{}),bg:"gray.700",color:"gray.100",_expanded:{boxShadow:"md",bg:"gray.800",color:"white"},_hover:{boxShadow:"md",bg:"gray.800",color:"white"},children:"2h"===k?"Interval":k}),Object(H.jsx)(K.d,{overflow:"visible",children:Object(H.jsxs)(K.e,{title:"Interval",type:"radio",children:[Object(H.jsx)(K.c,{value:"1m",onClick:function(){C("1m")},children:"1 minute"}),Object(H.jsx)(K.c,{value:"5m",onClick:function(){C("5m")},children:"5 minutes"}),Object(H.jsx)(K.c,{value:"15m",onClick:function(){C("15m")},children:"15 minutes"}),Object(H.jsx)(K.c,{value:"1h",onClick:function(){C("1h")},children:"1 hour"}),Object(H.jsx)(K.c,{value:"4h",onClick:function(){C("4h")},children:"4 hours"}),Object(H.jsx)(K.c,{value:"8h",onClick:function(){C("8h")},children:"8 hours"}),Object(H.jsx)(K.c,{value:"1d",onClick:function(){C("1d")},children:"1 day"})]})})]})})]})}),Object(H.jsx)(p.b,{rowStart:2,rowEnd:9,colStart:2,colEnd:4,borderRadius:"lg",borderColor:"gray.500",border:"1px",overflow:"hidden",children:Object(H.jsx)(ge,{tradingPair:c,interval:k,setLastDayData:v})}),Object(H.jsx)(p.b,{rowStart:1,rowEnd:3,colStart:4,colEnd:5,borderRadius:"lg",bg:"gray.400",boxShadow:"dark-lg",rounded:"lg",overflow:"scroll",children:Object(H.jsxs)(g.a,{children:[Object(H.jsx)(f.a,{fontSize:"xl",color:"gray.100",bg:"gray.700",textAlign:"center",fontWeight:"medium",mb:5,children:"Favourited By"}),Object(H.jsxs)(m.a,{direction:"row",children:[z&&c&&xe?Object(H.jsx)(H.Fragment,{children:c.favourited_by.some((function(e){return e.id===z.id}))?Object(H.jsx)(G.a,{borderRadius:"md",fontSize:"xx-large",ml:2,p:2,bg:"gray.400",color:"gray.700",boxShadow:"sm",_hover:{boxShadow:"md",bg:"gray.500",color:"gray.700"},onClick:function(){return Oe()},children:Object(H.jsx)(Q.a,{as:ie.b})}):Object(H.jsx)(G.a,{borderRadius:"md",ml:2,p:2,fontSize:"xx-large",bg:"gray.400",color:"gray.700",boxShadow:"sm",_hover:{boxShadow:"md",bg:"gray.500",color:"gray.700"},onClick:function(){return Oe()},children:Object(H.jsx)(Q.a,{as:ie.a})})}):"",(null===c||void 0===c||null===(e=c.favourited_by)||void 0===e?void 0:e.length)?Object(H.jsx)(H.Fragment,{children:c.favourited_by.map((function(e){return Object(H.jsx)(U.a,{ml:3,size:"md",src:e.profile_image},e.id)}))}):"Nobody has favourited this coin yet... Sounds like a buying opportunity to me!"]})]})}),Object(H.jsx)(p.b,{rowStart:3,rowEnd:12,colStart:1,colEnd:2,borderRadius:"lg",bg:"gray.400",boxShadow:"2xl",rounded:"lg",overflow:"scroll",children:Object(H.jsxs)(g.a,{children:[Object(H.jsx)(f.a,{fontSize:"xl",color:"gray.100",bg:"gray.700",textAlign:"center",fontWeight:"medium",mb:5,children:"Sentiment"}),c?Object(H.jsxs)(m.a,{spacing:3,children:[null===(t=c.comments)||void 0===t?void 0:t.map((function(e){return Object(H.jsx)(M.a,{children:e.owner.id===I().sub?Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(Z.a,{}),Object(H.jsxs)(M.a,{direction:"column",bg:"gray.700",rounded:"md",boxShadow:"inner",alignSelf:"flex-end",p:2,minW:"50%",children:[Object(H.jsxs)(M.a,{children:[Object(H.jsxs)(f.a,{fontSize:"xl",mb:0,children:[e.bull_or_bear?"\ud83d\udc2e":"\ud83d\udc3b"," "]}),Object(H.jsx)(Z.a,{}),Object(H.jsx)(f.a,{color:"gray.100",fontSize:"md",mb:0,children:e.owner.username})]}),Object(H.jsx)(O.a,{mt:1,fontSize:"sm",color:"gray.100",children:e.text})]}),Object(H.jsx)(U.a,{size:"sm",name:e.owner.username,src:e.owner.profile_image,ml:1})]}):Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(U.a,{size:"sm",name:e.owner.username,src:e.owner.profile_image,mr:1}),Object(H.jsxs)(M.a,{direction:"column",bg:"gray.700",rounded:"md",boxShadow:"inner",p:2,minW:"50%",children:[Object(H.jsxs)(M.a,{children:[Object(H.jsx)(f.a,{color:"gray.100",fontSize:"md",mb:0,children:e.owner.username}),Object(H.jsx)(Z.a,{}),Object(H.jsxs)(f.a,{fontSize:"xl",mb:0,children:[e.bull_or_bear?"\ud83d\udc2e":"\ud83d\udc3b"," "]})]}),Object(H.jsx)(O.a,{mt:1,fontSize:"sm",color:"gray.100",children:e.text})]})]})},e.id)})),Object(H.jsx)("div",{ref:$})]}):"data loading"]})}),Object(H.jsx)(p.b,{rowStart:12,rowEnd:15,colStart:1,colEnd:2,bg:"gray.400",boxShadow:"dark-lg",rounded:"lg",children:Object(H.jsxs)("form",{action:"submit",onSubmit:me,children:[Object(H.jsxs)(M.a,{children:[Object(H.jsx)(X.a,{spacing:2,mt:2,name:"rating",value:je.bull_or_bear,children:Object(H.jsxs)(m.a,{direction:"row",color:"gray.800",children:[Object(H.jsx)(ee.a,{ml:3,isRequired:!0,isChecked:!1,name:"bull_or_bear",value:"true",onChange:be,children:"Bull \ud83d\udc2e"}),Object(H.jsx)(ee.a,{isChecked:!1,name:"bull_or_bear",value:"false",onChange:be,children:"Bear \ud83d\udc3b"})]})}),Object(H.jsx)(Z.a,{}),Object(H.jsxs)(T.a,{type:"submit",alignSelf:"center",align:"right",variant:"solid",bg:"gray.700",color:"gray.100",boxShadow:"sm",_hover:{boxShadow:"md",bg:"gray.800",color:"white"},children:[Object(H.jsx)(oe.a,{mr:3}),"Post"]})]}),Object(H.jsx)(te.a,{isRequired:!0,children:Object(H.jsxs)(re.a,{children:[Object(H.jsx)(ae.a,{color:"gray.100",children:Object(H.jsx)(se.a,{})}),Object(H.jsx)(ne.a,{type:"text",pl:8,size:"lg",name:"text",bg:"gray.700",color:"gray.200",minH:window.innerHeight/9,onChange:be,value:je.text,placeholder:"Join the conversation","aria-label":"description"})]})})]})}),Object(H.jsx)(p.b,{rowStart:9,rowEnd:15,colSpan:2,borderRadius:"lg",children:Object(H.jsxs)(p.a,{padding:"10px",bg:"gray.700",w:"full",h:"full",templateRows:"repeat(4, 1fr)",templateColumns:"repeat(2, 1fr)",gap:2,borderRadius:"lg",children:[Object(H.jsx)(p.b,{rowSpan:6,colSpan:1,children:Object(H.jsx)(he,{tradingPair:c,setTradingPairDataFound:N,userData:z,setUserData:D,orderType:"Buy"})}),Object(H.jsx)(p.b,{rowSpan:6,colSpan:1,children:Object(H.jsx)(he,{tradingPair:c,setTradingPairDataFound:N,setUserData:D,userData:z,orderType:"Sell"})})]})}),Object(H.jsx)(p.b,{rowStart:3,rowEnd:15,colStart:4,colEnd:4,borderRadius:"lg",borderColor:"tomato",bg:"gray.400",overflow:"scroll",children:Object(H.jsxs)(g.a,{children:[Object(H.jsx)(f.a,{fontSize:"xl",color:"gray.100",bg:"gray.700",textAlign:"center",fontWeight:"medium",mb:5,children:"Recent Trades"}),Object(H.jsx)(m.a,{spacing:3,children:null===c||void 0===c?void 0:c.trade_posts.map((function(e){return Object(H.jsxs)(M.a,{direction:"column",bg:"gray.700",borderRadius:"md",p:2,minW:"50%",color:"gray.200",children:[Object(H.jsxs)(M.a,{children:[Object(H.jsx)(O.a,{fontWeight:"bold",color:e.bought_or_sold?"#0dd410":"#ff1919",children:e.bought_or_sold?"BUY":"SELL"}),Object(H.jsx)(Z.a,{}),Object(H.jsxs)(O.a,{textAlign:"right",fontSize:"sm",children:[new Date(e.created_at).toLocaleDateString("en-GB")+" ","at"," "+new Date(e.created_at).toLocaleTimeString("en-GB")]})]}),Object(H.jsxs)(M.a,{color:e.bought_or_sold?"#0dd410":"#ff1919",children:[Object(H.jsx)(O.a,{children:fe(e.amount.toPrecision(3))}),Object(H.jsx)(Z.a,{}),Object(H.jsx)(O.a,{children:"at"}),Object(H.jsx)(Z.a,{}),Object(H.jsxs)(O.a,{children:["$",fe((e.total/e.amount).toFixed(2))]}),Object(H.jsx)(Z.a,{}),Object(H.jsx)(O.a,{children:"/"}),Object(H.jsx)(Z.a,{}),Object(H.jsx)(O.a,{children:c.ticker}),Object(H.jsx)(Z.a,{}),Object(H.jsx)(Z.a,{}),Object(H.jsx)(Z.a,{}),Object(H.jsxs)(O.a,{color:"gray.200",fontWeight:"semibold",children:["- ",e.owner.username]})]})]},e.id)})).reverse()})]})})]})})})})},Oe=r(219),me=r(235),fe=r(44),ve=r(229),ye=r(215),we=r(216),Se=r(217),ke=r(218),Ce=r(214),_e=r(128);var Fe=function(e){var t=e.value,r=e.name,a=e.onChange,n="https://api.cloudinary.com/v1_1/dtg5hvt1b/image/upload",c=function(){var e=Object(j.a)(d.a.mark((function e(t){var c,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new FormData).append("file",t.target.files[0]),e.prev=2,c.append("upload_preset","do66rxfz"),e.next=6,y.a.post(n,c);case 6:o=e.sent,a({target:{name:r,value:o.data.url}}),e.next=19;break;case 10:return e.prev=10,e.t0=e.catch(2),console.log("AI Face Detection Limit Reached: ",e.t0),c.delete("upload_preset"),c.append("upload_preset","xxcabmqk"),e.next=17,y.a.post(n,c);case 17:s=e.sent,a({target:{name:r,value:s.data.url}});case 19:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(H.jsx)(H.Fragment,{children:t?Object(H.jsx)(Ce.a,{boxSize:"150px",objectFit:"cover",src:t,alt:"profile image"}):Object(H.jsxs)(re.a,{children:[Object(H.jsx)(ae.a,{children:Object(H.jsx)(_e.a,{})}),Object(H.jsx)(ye.a,{pt:1,color:"gray.700",className:"input",type:"file",onChange:c})]})})};var ze=function(e){var t=e.registered,r=n.a.useState(!1),a=Object(b.a)(r,2),c=a[0],o=a[1],s=J({email:"",username:"",password:"",password_confirmation:"",profile_image:""}),i=s.formdata,l=s.handleChange,u=function(){o(!1)},h=Object(Y.a)(),x=function(){var e=Object(j.a)(d.a.mark((function e(r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,F(i).then((function(e){201===e.status&&(console.log("registration successful"),t(),h({title:"Registration successful",description:"Please log in to your new account",status:"success",duration:5e3,isClosable:!0}))}));case 4:e.next=27;break;case 6:if(e.prev=6,e.t0=e.catch(1),!e.t0.response){e.next=21;break}if(!e.t0.response.data.email){e.next=13;break}return e.abrupt("return",o("An account under this email already exists"));case 13:if(!e.t0.response.data.username){e.next=17;break}return e.abrupt("return",o("This username is already taken"));case 17:if(!e.t0.response.data.password_confirmation){e.next=19;break}return e.abrupt("return",o("Password confirmation does not match"));case 19:e.next=26;break;case 21:if(!e.t0.request){e.next=25;break}return e.abrupt("return",console.log(e.t0.request));case 25:return e.abrupt("return",o("An unexpected error occured, sorry about this! ",e.t0.message));case 26:return e.abrupt("return",console.log(e.t0.config));case 27:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(H.jsx)("form",{action:"submit",onSubmit:x,children:Object(H.jsxs)(m.a,{spacing:2,children:[Object(H.jsxs)(te.a,{isRequired:!0,children:[Object(H.jsxs)(te.b,{textAlign:"center",children:["New to eTavros? Sign up!",Object(H.jsx)("br",{}),Object(H.jsx)("br",{})]}),Object(H.jsxs)(re.a,{children:[Object(H.jsx)(ae.a,{children:Object(H.jsx)(we.a,{})}),Object(H.jsx)(ye.a,{type:"email",name:"email",onFocus:u,onChange:l,value:i.email,placeholder:"Email","aria-label":"Email"})]}),Object(H.jsx)(je.a,{children:c.name})]}),Object(H.jsxs)(te.a,{isRequired:!0,children:[Object(H.jsxs)(re.a,{children:[Object(H.jsx)(ae.a,{children:Object(H.jsx)(Se.a,{})}),Object(H.jsx)(ye.a,{type:"text",name:"username",onFocus:u,onChange:l,value:i.username,placeholder:"Username","aria-label":"username"})]}),Object(H.jsx)(je.a,{children:c.name})]}),Object(H.jsxs)(te.a,{isRequired:!0,children:[Object(H.jsxs)(re.a,{children:[Object(H.jsx)(ae.a,{children:Object(H.jsx)(ke.a,{})}),Object(H.jsx)(ye.a,{type:"password",name:"password",onFocus:u,onChange:l,value:i.password,placeholder:"Password","aria-label":"Password"})]}),Object(H.jsx)(je.a,{children:c.name})]}),Object(H.jsxs)(te.a,{isRequired:!0,children:[Object(H.jsxs)(re.a,{children:[Object(H.jsx)(ae.a,{children:Object(H.jsx)(ke.a,{})}),Object(H.jsx)(ye.a,{type:"password",name:"password_confirmation",onFocus:u,onChange:l,value:i.password_confirmation,placeholder:"Confirm Password","aria-label":"Password Confirmation"})]}),Object(H.jsx)(je.a,{children:c.name})]}),Object(H.jsxs)(te.a,{isRequired:!0,children:[Object(H.jsx)(re.a,{children:Object(H.jsx)(Fe,{value:i.profile_image,name:"profile_image",onChange:l})}),c?Object(H.jsx)(te.b,{textAlign:"center",color:"red.500",children:c}):Object(H.jsx)(te.b,{textAlign:"center",children:"We will never share your data"})]}),Object(H.jsx)(be.a,{}),Object(H.jsx)(T.a,{type:"submit",variant:"solid",bg:"gray.700",color:"gray.100",boxShadow:"sm",_hover:{boxShadow:"md",bg:"gray.800",color:"white"},children:"Sign Up!"})]})})};var Ee=function(e){var t=e.loggedIn,r=e.getUserData,a=n.a.useState(!1),c=Object(b.a)(a,2),o=c[0],s=c[1],i=J({credential:"",password:""}),l=i.formdata,u=i.handleChange,h=function(){s(!1)},x=Object(Y.a)(),g=function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,z(l).then((function(e){var a;200===e.status&&(console.log("log in successful",e.data),t(),x({title:"Welcome back",description:"Happy trading!",status:"success",duration:5e3,isClosable:!0}),a=e.data.token,console.log(a),window.localStorage.setItem("token",a),r())}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),s("Login details are incorrect");case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(H.jsx)("form",{action:"submit",onSubmit:g,children:Object(H.jsxs)(m.a,{spacing:2,children:[Object(H.jsxs)(te.a,{isRequired:!0,children:[Object(H.jsxs)(te.b,{textAlign:"center",color:o&&"red.500",children:[o||"Log in and get trading!",Object(H.jsx)("br",{}),Object(H.jsx)("br",{})]}),Object(H.jsxs)(re.a,{children:[Object(H.jsx)(ae.a,{children:Object(H.jsx)(we.a,{})}),Object(H.jsx)(ye.a,{type:"text",name:"credential",onFocus:h,onChange:u,value:l.credential,placeholder:"Email or username","aria-label":"Email or username"})]}),Object(H.jsx)(je.a,{children:o.name})]}),Object(H.jsxs)(te.a,{isRequired:!0,children:[Object(H.jsxs)(re.a,{children:[Object(H.jsx)(ae.a,{children:Object(H.jsx)(ke.a,{})}),Object(H.jsx)(ye.a,{type:"password",name:"password",onFocus:h,onChange:u,value:l.password,placeholder:"Password","aria-label":"Password"})]}),Object(H.jsx)(je.a,{children:o.name})]}),Object(H.jsx)(be.a,{}),Object(H.jsx)(T.a,{type:"submit",variant:"solid",bg:"gray.700",color:"gray.100",boxShadow:"sm",_hover:{boxShadow:"md",bg:"gray.800",color:"white"},children:"Log in!"})]})})},De=r(63);r(173);var Re=function(){var e=Object(Oe.a)({fonts:{heading:"Electrolize"}}),t=n.a.useState(!1),r=Object(b.a)(t,2),a=r[0],c=r[1],o=n.a.useState(!1),i=Object(b.a)(o,2),l=i[0],h=i[1],x=n.a.useState(!1),p=Object(b.a)(x,2),m=p[0],v=p[1],y=n.a.useState(void 0),w=Object(b.a)(y,2),S=w[0],_=w[1],F=n.a.useState([]),z=Object(b.a)(F,2),D=z[0],R=z[1],W=n.a.useState(void 0),P=Object(b.a)(W,2),B=P[0],I=P[1],U=[],L=[],q=Object(Y.a)(),N=function(){h(!1)},$=function(){c(!1)},V=function(){var e=Object(j.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k();case 3:t=e.sent,r=t.data,R(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error retrieving trading pairs array: ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(j.a)(d.a.mark((function e(t){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(t);case 3:r=e.sent,a=r.data,U.push({ticker:a.symbol.split("BUSD").join("").toUpperCase(),lastPrice:parseFloat(a.lastPrice)}),U.length===D.length&&U.map((function(e){return G(e)})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Error retrieving latest price data: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),G=function(e){var t=D.find((function(t){return t.ticker.toUpperCase()===e.ticker})).name;L.length<1&&L.push(parseFloat(S.cash_balance)),L.push(e.lastPrice*parseFloat(S["".concat(t,"_balance")])),I(L.reduce((function(e,t){return e+t})))},K=function(e){if(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}},X=function(){var e=Object(j.a)(d.a.mark((function e(){var t,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=A(),e.next=4,E(t);case 4:r=e.sent,a=r.data,_(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("failed getting user data: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return n.a.useEffect((function(){X(),V()}),[]),n.a.useEffect((function(){U=[],L=[],S&&D&&D.map((function(e){return J(e.name)}))}),[D,S]),Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(u.a,{theme:e,children:Object(H.jsxs)(M.a,{as:"nav",align:"center",justify:"space-between",wrap:"wrap",w:"100%",pl:4,pr:4,h:"8vh",minH:"42px",bg:"gray.700",children:[Object(H.jsx)(s.b,{to:"/markets/",children:Object(H.jsx)(T.a,{display:{base:"block",md:"block"},flexBasis:{base:"100%",md:"auto"},bg:"gray.200",as:"button",children:"Markets"})}),Object(H.jsx)(Z.a,{}),Object(H.jsx)(g.a,{children:Object(H.jsx)(f.a,{color:"gray.300",children:"eTavros"})}),Object(H.jsx)(Z.a,{}),S?Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(T.a,{onClick:function(){X(),v(!0)},children:"View Wallet"}),Object(H.jsxs)(me.a,{placement:"right",onClose:function(){v(!1)},isOpen:m,children:[Object(H.jsx)(fe.e,{}),Object(H.jsxs)(me.b,{children:[Object(H.jsx)(fe.d,{borderBottomWidth:"1px",bg:"gray.700",color:"gray.200",as:"nav",children:Object(H.jsxs)(M.a,{justify:"space-between",children:[Object(H.jsxs)(O.a,{children:[Object(H.jsx)(Q.a,{as:ue.a,color:"gray.200",mr:4}),"My Wallet"]}),Object(H.jsx)(O.a,{children:S.username})]})}),Object(H.jsxs)(fe.b,{fontSize:"xl",color:"gray.800",children:[B&&S?Object(H.jsxs)(M.a,{justify:"space-between",children:[Object(H.jsx)(O.a,{children:"Total value ($)"}),Object(H.jsx)(O.a,{children:K(B.toFixed(2))})]}):"",Object(H.jsx)(be.a,{mb:4,mt:4}),Object(H.jsxs)(M.a,{justify:"space-between",children:[Object(H.jsx)(O.a,{children:"Virtual USD"}),Object(H.jsxs)(O.a,{children:["$",K(S.cash_balance)]})]}),Object(H.jsx)(be.a,{mb:4,mt:4}),D?D.sort((function(e,t){return e.id-t.id})).map((function(e){return Object(H.jsxs)(M.a,{justify:"space-between",children:[Object(H.jsxs)(O.a,{children:[e.name.split("")[0].toUpperCase(),e.name.slice(1)]}),Object(H.jsx)(O.a,{children:parseFloat(S["".concat(null===e||void 0===e?void 0:e.name,"_balance")])?K(S["".concat(null===e||void 0===e?void 0:e.name,"_balance")]):"-"})]},e.id)})):"",Object(H.jsx)(Z.a,{})]})]})]})]}):Object(H.jsxs)(ve.a,{isOpen:a,onOpen:function(){c(!0)},onClose:$,placement:"left",closeOnBlur:!0,bg:"grey.200",children:[Object(H.jsx)(ve.e,{children:Object(H.jsx)(T.a,{bg:"gray.200",color:"gray.800",onClick:function(){c(!a)},children:"Log in"})}),Object(H.jsx)(ve.d,{p:5,children:Object(H.jsxs)(De.a,{returnFocus:!0,persistentFocus:!1,children:[Object(H.jsx)(ve.b,{}),Object(H.jsx)(ve.c,{bg:"gray.700",color:"gray.100",_hover:{boxShadow:"md",bg:"pink.700"}}),Object(H.jsx)(Ee,{loggedIn:$,getUserData:X})]})})]}),S?Object(H.jsx)(T.a,{bg:"gray.200",ml:4,color:"gray.800",onClick:function(){window.localStorage.removeItem("token"),_(void 0),q({title:"You are now looged out",description:"Account functions have been disabled",status:"warning",duration:4e3,isClosable:!0})},children:"Log out"}):Object(H.jsxs)(ve.a,{isOpen:l,onOpen:function(){h(!0)},onClose:N,placement:"left",closeOnBlur:!0,bg:"grey.200",children:[Object(H.jsx)(ve.e,{children:Object(H.jsx)(T.a,{bg:"gray.200",ml:4,color:"gray.800",children:"Register"})}),Object(H.jsx)(ve.d,{p:5,children:Object(H.jsxs)(De.a,{returnFocus:!0,persistentFocus:!1,children:[Object(H.jsx)(ve.b,{}),Object(H.jsx)(ve.c,{bg:"gray.700",color:"gray.100",_hover:{boxShadow:"md",bg:"pink.700"}}),Object(H.jsx)(ze,{registered:N})]})})]})]})})})},We=r(221),Pe=r(222);var Be=function(){var e=Object(Oe.a)({fonts:{heading:"Electrolize"}});return Object(H.jsx)(u.a,{theme:e,children:Object(H.jsx)(h.a,{bg:"gray.400",minW:"100%",minH:"92vh",p:0,children:Object(H.jsx)(G.a,{h:"60vh",children:Object(H.jsx)(g.a,{borderWidth:"3px",borderColor:"gray.800",maxW:"60vw",p:5,boxShadow:"dark-lg",borderRadius:"xl",color:"gray.800",children:Object(H.jsxs)(M.a,{alignItems:"center",children:[Object(H.jsx)(f.a,{fontSize:"8xl",mr:6,children:"eTavros"}),Object(H.jsxs)(M.a,{direction:"column",textAlign:"center",children:[Object(H.jsx)(f.a,{fontSize:"xl",fontWeight:"semibold",children:"Welcome to eTavros"}),Object(H.jsx)(O.a,{fontSize:"lg",mb:4,children:"The virtual cryptocurrency trading platform"}),Object(H.jsx)(be.a,{}),Object(H.jsxs)(We.a,{mt:4,mb:4,spacing:2,color:"gray.800",textAlign:"left",fontSize:"sm",children:[Object(H.jsx)(We.c,{children:Object(H.jsxs)(M.a,{alignItems:"center",children:[Object(H.jsx)(We.b,{as:Pe.a,color:"grey.800"}),Object(H.jsx)(O.a,{children:"Browse, track, & trade the hottest cryptocurrencies on the market"})]})}),Object(H.jsx)(We.c,{children:Object(H.jsxs)(M.a,{alignItems:"center",children:[Object(H.jsx)(We.b,{as:Pe.a,color:"grey.800"}),Object(H.jsx)(O.a,{children:"Immerse yourself in a streamlined trading experience with live, interactive candlestick charts"})]})}),Object(H.jsx)(We.c,{children:Object(H.jsxs)(M.a,{alignItems:"center",children:[Object(H.jsx)(We.b,{as:Pe.a,color:"grey.800"}),Object(H.jsx)(O.a,{children:"View other users' trades and ridicule their mistakes"})]})}),Object(H.jsx)(We.c,{children:Object(H.jsxs)(M.a,{alignItems:"center",children:[Object(H.jsx)(We.b,{as:Pe.a,color:"grey.800"}),Object(H.jsx)(O.a,{children:"Watch the value of your portfolio rise and fall with the tides of market sentiment"})]})})]}),Object(H.jsx)(s.b,{to:"/markets/",minW:"full",children:Object(H.jsx)(T.a,{display:{base:"block",md:"block"},flexBasis:{base:"100%",md:"auto"},bg:"gray.200",as:"button",w:"full",children:"Show me the money"})})]})]})})})})})};var Ae=function(){return Object(H.jsxs)(s.a,{children:[Object(H.jsx)(Re,{}),Object(H.jsxs)(i.c,{children:[Object(H.jsx)(i.a,{exact:!0,path:"/",component:Be}),Object(H.jsx)(i.a,{path:"/markets/:name",component:pe}),Object(H.jsx)(i.a,{path:"/markets",component:N})]})]})},Ie=Object(Oe.a)({fonts:{heading:"Zen Dots"}});t.default=Ie;o.a.render(Object(H.jsx)(u.a,{children:Object(H.jsx)(Ae,{})}),document.getElementById("root"))}},[[174,1,2]]]);
//# sourceMappingURL=main.f6699c35.chunk.js.map